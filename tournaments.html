<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WoT Fantasy</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        /* Material Icons fallback */
        .material-icons {
            font-family: 'Material Icons', 'Material Icons Outlined', sans-serif;
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }

        /* Fallback for when Material Icons don't load */
        .material-icons:before {
            content: attr(data-fallback);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: rgba(15, 20, 25, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(15, 20, 25, 0.98);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 36px;
            width: auto;
            max-width: 220px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
        }

        .logo:hover img {
            transform: scale(1.05);
            filter: drop-shadow(0 0 30px rgba(0, 212, 255, 0.5));
        }

        .nav-menu {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-link {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-link.active,
        .nav-link:hover {
            color: #00d4ff;
            transform: translateY(-2px);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .nav-link.active::after,
        .nav-link:hover::after {
            width: 100%;
        }

        .region-selector {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 0.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .region-btn {
            padding: 0.6rem 1.2rem;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .region-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            transform: translateY(-2px);
        }

        .region-btn.active {
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            border-color: #00d4ff;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .auth-section {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .user-menu {
            position: relative;
        }

        .user-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.6rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .user-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(0, 212, 255, 0.5);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: rgba(15, 20, 25, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 0.5rem;
            min-width: 200px;
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1000;
        }

        .user-dropdown.show {
            display: block;
            animation: fadeInDown 0.3s ease;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        .dropdown-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 0.5rem 0;
        }

        .sign-in-btn {
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            border: none;
            color: white;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.2);
        }

        .sign-in-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 212, 255, 0.4);
            background: linear-gradient(135deg, #00b8e6, #00d4ff);
        }

        .mobile-toggle {
            display: none;
            background: transparent;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .mobile-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Page Header */
        .page-header {
            background: 
                radial-gradient(circle at 30% 20%, rgba(0, 212, 255, 0.15), transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(0, 184, 230, 0.1), transparent 50%),
                linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(26, 35, 50, 0.2));
            padding: 3rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.5;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #00d4ff 0%, #00b8e6 50%, #0099cc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 2;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        /* Filters Section */
        .filters-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            padding: 2rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 80px;
            z-index: 999;
        }

        .filters-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-label {
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .filter-select,
        .search-input {
            padding: 0.7rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .filter-select:focus,
        .search-input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }

        .search-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-input {
            padding-left: 2.5rem;
            min-width: 250px;
        }

        .search-icon {
            position: absolute;
            left: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 1rem;
            top: 50%;
            transform: translateY(-50%);
        }

        .status-filters {
            display: flex;
            gap: 0.5rem;
        }

        .status-filter {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-filter.active {
            background: #00d4ff;
            border-color: #00d4ff;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        /* Tournament Sections */
        .tournament-sections {
            padding: 3rem 0;
        }

        .section {
            margin-bottom: 4rem;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-count {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .view-toggle {
            display: flex;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.3rem;
            border-radius: 8px;
        }

        .view-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .view-btn.active {
            background: #00d4ff;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        /* Tournament Grid */
        .tournament-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .tournament-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .tournament-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(0, 184, 230, 0.02));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tournament-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: rgba(0, 212, 255, 0.6);
            box-shadow: 0 25px 60px rgba(0, 212, 255, 0.25);
        }

        .tournament-card:hover::before {
            opacity: 1;
        }

        .tournament-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }

        .tournament-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 0.5rem;
        }

        .tournament-status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            flex-shrink: 0;
        }

        .status-live {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.4);
            animation: pulse 2s infinite;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.2);
        }

        .status-upcoming {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            border: 1px solid rgba(0, 212, 255, 0.4);
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.2);
        }

        .status-registration {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border: 1px solid rgba(59, 130, 246, 0.4);
        }

        .status-completed {
            background: rgba(107, 114, 128, 0.2);
            color: #9ca3af;
            border: 1px solid rgba(107, 114, 128, 0.4);
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 15px rgba(34, 197, 94, 0.2); }
            50% { box-shadow: 0 0 25px rgba(34, 197, 94, 0.4); }
        }

        .tournament-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .meta-icon {
            color: #00d4ff;
            font-size: 1rem;
        }

        .tournament-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            position: relative;
            z-index: 2;
        }

        .tournament-progress {
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 6px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .tournament-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .fantasy-teams {
            font-size: 1.1rem;
            font-weight: 700;
            color: #00d4ff;
        }

        .action-btn {
            padding: 0.6rem 1.2rem;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            border: none;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.2);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 212, 255, 0.3);
        }

        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: none;
        }

        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(0, 212, 255, 0.5);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
        }

        /* Tournament List View */
        .tournament-list {
            display: none;
        }

        .tournament-list.active {
            display: block;
        }

        .list-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .list-item:hover {
            border-color: rgba(0, 212, 255, 0.4);
            background: rgba(255, 255, 255, 0.08);
        }

        .list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .list-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #ffffff;
        }

        .list-meta {
            display: flex;
            gap: 2rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            border: 2px dashed rgba(255, 255, 255, 0.1);
        }

        .empty-state .material-icons {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.4;
            color: #00d4ff;
        }

        /* Load More Button */
        .load-more {
            text-align: center;
            margin-top: 3rem;
        }

        .load-more-btn {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .load-more-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: #00d4ff;
        }

        /* Quick Stats */
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            border-color: rgba(0, 212, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.15);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: #00d4ff;
            display: block;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            background: rgba(15, 20, 25, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem 0 2rem;
            margin-top: 5rem;
            backdrop-filter: blur(20px);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 3rem;
        }

        .footer-links {
            display: flex;
            gap: 3rem;
            list-style: none;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 0.95rem;
            padding: 0.5rem 0;
            position: relative;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: 0.2rem;
            left: 0;
            width: 0;
            height: 1px;
            background: #00d4ff;
            transition: width 0.3s ease;
        }

        .footer-links a:hover {
            color: #00d4ff;
            transform: translateY(-2px);
        }

        .footer-links a:hover::after {
            width: 100%;
        }

        .footer-credits {
            max-width: 350px;
            text-align: right;
        }

        .footer-note {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .footer-disclaimer {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8rem;
            line-height: 1.5;
            font-style: italic;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(15, 20, 25, 0.98);
                flex-direction: column;
                padding: 2rem;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-menu.active {
                display: flex;
            }

            .mobile-toggle {
                display: block;
            }

            .page-title {
                font-size: 2rem;
            }

            .filters-container {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-group {
                justify-content: center;
            }

            .tournament-grid {
                grid-template-columns: 1fr;
            }

            .tournament-meta {
                grid-template-columns: 1fr;
            }

            .section-header {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }

            .footer-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 2rem;
            }

            .footer-links {
                gap: 2rem;
                justify-content: center;
            }

            .footer-credits {
                max-width: 100%;
                text-align: center;
            }

            .quick-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .region-selector {
                flex-wrap: wrap;
                gap: 0.3rem;
            }

            .region-btn {
                padding: 0.5rem 0.8rem;
                font-size: 0.8rem;
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus states for accessibility */
        .action-btn:focus,
        .region-btn:focus,
        .sign-in-btn:focus,
        .view-btn:focus,
        .status-filter:focus {
            outline: 2px solid #00d4ff;
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .page-title {
                color: #ffffff;
                background: none;
                -webkit-text-fill-color: #ffffff;
            }
            
            .stat-number {
                color: #00d4ff;
                background: none;
                -webkit-text-fill-color: #00d4ff;
            }
        }
    </style>
</head>
<body>
    <header class="header" id="header">
        <nav class="nav container">
            <a href="index.html" class="logo">
                <img src="images/WotFan200x36.png" alt="Fantasy Tanks Logo">
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="tournaments.html" class="nav-link active">Tournaments</a></li>
                <li><a href="index.html#groups" class="nav-link">Groups**</a></li>
                <li><a href="index.html#guide" class="nav-link">Guide**</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact**</a></li>
            </ul>

            <div class="auth-section">
                <div class="user-menu" id="userMenu" style="display: none;">
                    <button class="user-btn" onclick="toggleUserDropdown()">
                        <span class="material-icons">person</span>
                        <span id="username"></span>
                        <span class="material-icons">expand_more</span>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#profile" class="dropdown-item">
                            <span class="material-icons">person</span>
                            Profile
                        </a>
                        <a href="#settings" class="dropdown-item">
                            <span class="material-icons">settings</span>
                            Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#logout" class="dropdown-item" onclick="handleLogout()">
                            <span class="material-icons">logout</span>
                            Sign Out
                        </a>
                    </div>
                </div>
                <button class="sign-in-btn" id="signInBtn" aria-label="Sign in to your account" onclick="redirectToLogin()">Sign In</button>
                <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle mobile menu">
                    <span class="material-icons">menu</span>
                </button>
            </div>
        </nav>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1 class="page-title">Fantasy Tournaments</h1>
                <p class="page-subtitle"></p>
            </div>
        </section>

        <section class="filters-section">
            <div class="container">
                <div class="filters-container">
                    <div class="filter-group">
                        <span class="filter-label">Status:</span>
                        <div class="status-filters">
                            <button class="status-filter active" data-status="all">All</button>
                            <button class="status-filter" data-status="live">Live</button>
                            <button class="status-filter" data-status="upcoming">Upcoming</button>
                            <button class="status-filter" data-status="registration">Open</button>
                            <button class="status-filter" data-status="completed">Completed</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <span class="filter-label">Format:</span>
                        <select class="filter-select" id="formatFilter">
                            <option value="all">All Formats</option>
                            <option value="7v7">Pick 7 Players</option>
                            <option value="5v5">Pick 5 Players</option>
                            <option value="3v3">Pick 3 Players</option>
                            <option value="1v1">Pick 1 Player</option>
                        </select>

                        <span class="filter-label">Teams:</span>
                        <select class="filter-select" id="teamsFilter">
                            <option value="all">All Sizes</option>
                            <option value="100+">100+ Teams</option>
                            <option value="50+">50+ Teams</option>
                            <option value="25+">25+ Teams</option>
                            <option value="small">Under 25</option>
                        </select>
                    </div>

                    <div class="search-container">
                        <span class="material-icons search-icon">search</span>
                        <input type="text" class="search-input" placeholder="Search fantasy tournaments..." id="searchInput">
                    </div>
                </div>
            </div>
        </section>

        <section class="tournament-sections container">
            <!-- Quick Stats -->
            <div class="quick-stats">
                <div class="stat-card">
                    <span class="material-icons" style="color: #00d4ff; font-size: 2rem; margin-bottom: 0.5rem;">live_tv</span>
                    <span class="stat-number">2</span>
                    <span class="stat-label">Live Fantasy Tournaments</span>
                </div>
                <div class="stat-card">
                    <span class="material-icons" style="color: #00d4ff; font-size: 2rem; margin-bottom: 0.5rem;">event</span>
                    <span class="stat-number">2</span>
                    <span class="stat-label">Upcoming</span>
                </div>
                <div class="stat-card">
                    <span class="material-icons" style="color: #00d4ff; font-size: 2rem; margin-bottom: 0.5rem;">people</span>
                    <span class="stat-number">212</span>
                    <span class="stat-label">Fantasy Teams</span>
                </div>
            </div>

            <!-- Live Tournaments -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="material-icons" style="color: #22c55e; margin-right: 0.5rem; animation: pulse 2s infinite;">radio_button_checked</span>
                        Live Fantasy Tournaments
                        <span class="section-count">1</span>
                    </h2>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="grid">
                            <span class="material-icons" style="font-size: 1rem; margin-right: 0.3rem;">grid_view</span>Grid
                        </button>
                        <button class="view-btn" data-view="list">
                            <span class="material-icons" style="font-size: 1rem; margin-right: 0.3rem;">view_list</span>List
                        </button>
                    </div>
                </div>

                <div class="tournament-grid active" id="liveGrid">
                    <div class="tournament-card" data-tournament="na-15v15-summer-series" data-phase="completed">
                        <div class="tournament-header">
                            <div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span class="material-icons" style="color: #00d4ff; font-size: 1.3rem;">emoji_events</span>
                                    <h3 class="tournament-title" style="margin: 0;">NA 15v15 Summer Series</h3>
                                    </div>
                                    </div>
                                    <span class="tournament-status status-completed">Completed</span>
                        </div>
                        <div class="tournament-meta">
                            <div class="meta-item">
                                <span class="material-icons meta-icon">public</span>
                                North America
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">groups</span>
                                Pick 10 Players
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">sports_esports</span>
                                93 Fantasy Teams
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">schedule</span>
                                Final
                            </div>
                        </div>
                        <p class="tournament-description">Fantasy tournament based on the premier North American league featuring the continent's best pro players in intense 15v15 battles. Congrats to the winners - CRAKD!</p>
                        <div class="tournament-progress">
                            <div class="progress-label">
                                <span>Tournament Progress</span>
                                <span>100%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tournament-footer">
                            <span class="fantasy-teams">93 Fantasy Teams</span>
                            <a href="na-15v15-summer-series.html" class="action-btn">
                                <span class="material-icons" style="font-size: 1rem;">visibility</span>
                                View Tournament
                            </a>
                        </div>
                    </div>

                    <div class="tournament-card" data-tournament="clan-showdown-aug-2025" data-phase="completed">
                        <div class="tournament-header">
                            <div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span class="material-icons" style="color: #00d4ff; font-size: 1.3rem;">workspace_premium</span>
                                    <h3 class="tournament-title" style="margin: 0;">Clan Showdown - August 2025</h3>
                                    </div>
                                    </div>
                                    <span class="tournament-status status-completed">Completed</span>
                        </div>
                        <div class="tournament-meta">
                            <div class="meta-item">
                                <span class="material-icons meta-icon">public</span>
                                Global
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">groups</span>
                                Pick 10 Players
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">sports_esports</span>
                                119 Fantasy Teams
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">schedule</span>
                                Final
                            </div>
                        </div>
                        <p class="tournament-description">Witness the best 15v15 teams from around the world go head-to-head on August 16 and 17 in the AMD Clan Showdown playoffs!</p>
                        <div class="tournament-progress">
                            <div class="progress-label">
                                <span>Tournament Progress</span>
                                <span>100%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tournament-footer">
                            <span class="fantasy-teams">119 Fantasy Teams</span>
                            <a href="clan-showdown-aug-2025.html" class="action-btn">
                                <span class="material-icons" style="font-size: 1rem;">visibility</span>
                                View Tournament
                            </a>
                        </div>
                    </div>

                    <div class="tournament-card" data-tournament="draft-cup-sept-2025" data-phase="live">
                        <div class="tournament-header">
                            <div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span class="material-icons" style="color: #00d4ff; font-size: 1.3rem;">workspace_premium</span>
                                    <h3 class="tournament-title" style="margin: 0;">Draft Cup - September 2025</h3>
                                </div>
                            </div>
                            <span class="tournament-status status-live">Rosters Open</span>
                        </div>
                        <div class="tournament-meta">
                            <div class="meta-item">
                                <span class="material-icons meta-icon">public</span>
                                North America
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">groups</span>
                                Pick 7 Players
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">sports_esports</span>
                                0 Fantasy Teams
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">schedule</span>
                                Group Stage
                            </div>
                        </div>
                        <p class="tournament-description">In this draft style tournament, each team captain was given a fixed "budget" to build their team. Captains competed in multiple bidding rounds, allocating funds to secure the top players while balancing their overall roster.</p>
                        <div class="tournament-progress">
                            <div class="progress-label">
                                <span>Tournament Progress</span>
                                <span>10%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 10%;"></div>
                            </div>
                        </div>
                        <div class="tournament-footer">
                            <span class="fantasy-teams">0 Fantasy Teams</span>
                            <a href="draft-cup-sept-2025.html" class="action-btn">
                                <span class="material-icons" style="font-size: 1rem;">visibility</span>
                                View Tournament
                            </a>
                        </div>
                    </div>
                </div>

                <div class="tournament-list" id="liveList">
                    <div class="list-item" data-tournament="na-15v15-summer-series">
                        <div class="list-header">
                            <h3 class="list-title">NA 15v15 Summer Series</h3>
                            <span class="tournament-status status-live">Live Scoring</span>
                        </div>
                        <div class="list-meta">
                            <span>North America • Pick 10 Players • Qualifiers • 93 Fantasy Teams</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Upcoming Tournaments -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="material-icons" style="color: #00d4ff; margin-right: 0.5rem;">event</span>
                        Upcoming Fantasy Tournaments
                        <span class="section-count">3</span>
                    </h2>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="grid">
                            <span class="material-icons" style="font-size: 1rem; margin-right: 0.3rem;">grid_view</span>Grid
                        </button>
                        <button class="view-btn" data-view="list">
                            <span class="material-icons" style="font-size: 1rem; margin-right: 0.3rem;">view_list</span>List
                        </button>
                    </div>
                </div>

                <div class="tournament-grid active" id="upcomingGrid">
                    <div class="tournament-card" data-tournament="summer-championship-2025" data-phase="upcoming">
                        <div class="tournament-header">
                            <div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span class="material-icons" style="color: #00d4ff; font-size: 1.3rem;">military_tech</span>
                                    <h3 class="tournament-title" style="margin: 0;">Onslaught Legends Series - Season 4</h3>
                                </div>
                            </div>
                            <span class="tournament-status status-upcoming">TBA</span>
                        </div>
                        <div class="tournament-meta">
                            <div class="meta-item">
                                <span class="material-icons meta-icon">public</span>
                                Europe
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">groups</span>
                                Pick 7 Players
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">schedule</span>
                                September 30, 2025
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">people</span>
                                8/8 Teams
                            </div>
                        </div>
                        <p class="tournament-description">Onslaught Legends Series: Season 4 promises to be full of epic victories and defeats. Join the action, support your favorite teams, contribute to the prize pool, and Roll Out!</p>
                        <div class="tournament-progress">
                            <div class="progress-label">
                                <span>Team Confirmations</span>
                                <span>100%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tournament-footer">
                            <span class="fantasy-teams">0 Fantasy Teams</span>
                            <a href="https://liquipedia.net/worldoftanks/Onslaught_Legends_Cup/4/Europe" class="action-btn">
                                <span class="material-icons" style="font-size: 1rem;">visibility</span>
                                View Details
                            </a>
                        </div>
                    </div>

                    <div class="tournament-card" data-tournament="world-championship-qualifier-2025" data-phase="upcoming">
                        <div class="tournament-header">
                            <div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span class="material-icons" style="color: #00d4ff; font-size: 1.3rem;">star</span>
                                    <h3 class="tournament-title" style="margin: 0;">WCI 2025</h3>
                                </div>
                            </div>
                            <span class="tournament-status status-upcoming">TBA</span>
                        </div>
                        <div class="tournament-meta">
                            <div class="meta-item">
                                <span class="material-icons meta-icon">public</span>
                                Global
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">groups</span>
                                Pick 7 Players
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">schedule</span>
                                November 29-30, 2025
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">people</span>
                                8/8 Teams
                            </div>
                        </div>
                        <p class="tournament-description">The World of Tanks Championship International (WCI) is back in November 2025, and this year's tournament promises to be more intense than ever. Eight elite 7v7 Onslaught teams from around the world will gather for an epic showdown over two action-packed weekends: November 22–23, live on stream, and November 29–30, in front of a live audience in Suzhou, China.</p>
                        <div class="tournament-progress">
                            <div class="progress-label">
                                <span>Team Confirmations</span>
                                <span>100%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tournament-footer">
                            <span class="fantasy-teams">0 Fantasy Teams</span>
                            <a href="https://worldoftanks.com/en/news/competitive-gaming/wci-2025-announcement/" class="action-btn">
                                <span class="material-icons" style="font-size: 1rem;">visibility</span>
                                View Details
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Completed Tournaments -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="material-icons" style="color: #9ca3af; margin-right: 0.5rem;">check_circle</span>
                        Completed Fantasy Tournaments
                        <span class="section-count">0</span>
                    </h2>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="grid">
                            <span class="material-icons" style="font-size: 1rem; margin-right: 0.3rem;">grid_view</span>Grid
                        </button>
                        <button class="view-btn" data-view="list">
                            <span class="material-icons" style="font-size: 1rem; margin-right: 0.3rem;">view_list</span>List
                        </button>
                    </div>
                </div>

                <div class="tournament-grid active" id="completedGrid">
                                    </div>

                <div class="tournament-list" id="completedList"></div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="#">Resources**</a></li>
                    <li><a href="terms-of-service.html" class="nav-link">Terms of Service</a></li>
                    <li><a href="privacy-policy.html" class="nav-link">Privacy Policy</a></li>
                    <li><a href="#">Contact**</a></li>
                </ul>
                <div class="footer-credits">
                    <p class="footer-note">
                        Original concept by <strong>Hypnotik</strong><br>
                        Created by <strong>pringle</strong>
                    </p>
                    <p class="footer-disclaimer">
                        This website is not affiliated with Wargaming.net or World of Tanks
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // API client for connecting to my Railway backend
        class FantasyAPI {
            constructor() {
                this.baseURL = 'https://fantasytanks-production.up.railway.app/api';
                this.token = localStorage.getItem('authToken');
            }

            async request(endpoint, options = {}) {
                const url = `${this.baseURL}${endpoint}`;
                const config = {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                };

                if (this.token) {
                    config.headers.Authorization = `Bearer ${this.token}`;
                }

                try {
                    const response = await fetch(url, config);
                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error(data.error || 'API request failed');
                    }

                    return data;
                } catch (error) {
                    console.error('API request error:', error);
                    throw error;
                }
            }

            async login(username, password) {
                return await this.request('/auth/login', {
                    method: 'POST',
                    body: JSON.stringify({ username, password })
                });
            }

            async register(username, email, password) {
                return await this.request('/auth/register', {
                    method: 'POST',
                    body: JSON.stringify({ username, email, password })
                });
            }

            getCurrentUser() {
                if (!this.token) return null;
                try {
                    const payload = JSON.parse(atob(this.token.split('.')[1]));
                    return { username: payload.username, id: payload.userId };
                } catch (error) {
                    return null;
                }
            }

            logout() {
                localStorage.removeItem('authToken');
                this.token = null;
                window.location.reload();
            }

            isAuthenticated() {
                return !!this.token;
            }
        }

        // Initialize API
        const api = new FantasyAPI();

        // Authentication functions
        function redirectToLogin() {
            window.location.href = 'login.html?return=' + encodeURIComponent(window.location.href);
        }

        function handleLogout() {
            api.logout();
        }

        function toggleUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const userMenu = document.getElementById('userMenu');
            if (userMenu && !userMenu.contains(e.target)) {
                document.getElementById('userDropdown').classList.remove('show');
            }
        });

        function updateAuthUI() {
            const signInBtn = document.getElementById('signInBtn');
            const userMenu = document.getElementById('userMenu');
            
            if (api.isAuthenticated()) {
                const user = api.getCurrentUser();
                
                // Hide sign in button, show user menu
                signInBtn.style.display = 'none';
                userMenu.style.display = 'block';
                document.getElementById('username').textContent = user.username;
            } else {
                // Show sign in button, hide user menu
                signInBtn.style.display = 'block';
                userMenu.style.display = 'none';
            }
        }

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        const mobileToggle = document.getElementById('mobileToggle');
        const navMenu = document.getElementById('navMenu');

        mobileToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            const icon = mobileToggle.querySelector('.material-icons');
            icon.textContent = navMenu.classList.contains('active') ? 'close' : 'menu';
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileToggle.contains(e.target) && !navMenu.contains(e.target)) {
                navMenu.classList.remove('active');
                mobileToggle.querySelector('.material-icons').textContent = 'menu';
            }
        });

        // Region selector
        document.querySelectorAll('.region-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.region-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const region = btn.dataset.region.toUpperCase();
                console.log(`Switched to ${region} region`);
                filterTournamentsByRegion(region);

                // Brief loading effect
                btn.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    btn.style.transform = '';
                }, 150);
            });
        });

        // Status filters
        document.querySelectorAll('.status-filter').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.status-filter').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const status = btn.dataset.status;
                filterTournamentsByStatus(status);
            });
        });

        // View toggle (grid/list)
        document.querySelectorAll('.view-toggle').forEach(toggle => {
            toggle.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const section = btn.closest('.section');
                    const view = btn.dataset.view;
                    
                    // button states
                    toggle.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Toggle view
                    const grid = section.querySelector('.tournament-grid');
                    const list = section.querySelector('.tournament-list');
                    
                    if (view === 'grid') {
                        if (grid) grid.classList.add('active');
                        if (list) list.classList.remove('active');
                    } else {
                        if (grid) grid.classList.remove('active');
                        if (list) list.classList.add('active');
                    }
                });
            });
        });

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            filterTournamentsBySearch(searchTerm);
        });

        // Filter functions
        function filterTournamentsByRegion(region) {
            console.log(`Filtering fantasy tournaments by region: ${region}`);
            // Implementation filters tournaments based on region
        }

        function filterTournamentsByStatus(status) {
            const sections = document.querySelectorAll('.section');
            
            if (status === 'all') {
                sections.forEach(section => section.style.display = 'block');
                return;
            }

            sections.forEach(section => {
                const title = section.querySelector('.section-title').textContent.toLowerCase();
                
                if (
                    (status === 'live' && title.includes('live')) ||
                    (status === 'upcoming' && title.includes('upcoming')) ||
                    (status === 'registration' && title.includes('registration')) ||
                    (status === 'completed' && title.includes('completed'))
                ) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
        }

        function filterTournamentsBySearch(searchTerm) {
            const cards = document.querySelectorAll('.tournament-card');
            
            cards.forEach(card => {
                const title = card.querySelector('.tournament-title').textContent.toLowerCase();
                const description = card.querySelector('.tournament-description').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = searchTerm === '' ? 'block' : 'none';
                }
            });
        }

        // Organize cards into sections based on data-phase or status class
        function organizeTournaments() {
            const liveGrid = document.getElementById('liveGrid');
            const upcomingGrid = document.getElementById('upcomingGrid');
            const completedGrid = document.getElementById('completedGrid');
            if (!liveGrid || !upcomingGrid || !completedGrid) return;

            const allCards = Array.from(document.querySelectorAll('.tournament-card'));

            // Clear target grids
            liveGrid.innerHTML = '';
            upcomingGrid.innerHTML = '';
            completedGrid.innerHTML = '';

            allCards.forEach(card => {
                let phase = (card.dataset.phase || '').toLowerCase();
                if (!phase) {
                    const statusEl = card.querySelector('.tournament-status');
                    if (statusEl) {
                        if (statusEl.classList.contains('status-live')) phase = 'live';
                        else if (statusEl.classList.contains('status-upcoming')) phase = 'upcoming';
                        else if (statusEl.classList.contains('status-completed')) phase = 'completed';
                    }
                }

                switch (phase) {
                    case 'live':
                        liveGrid.appendChild(card);
                        break;
                    case 'completed':
                    case 'past':
                        completedGrid.appendChild(card);
                        break;
                    case 'upcoming':
                    default:
                        upcomingGrid.appendChild(card);
                        break;
                }
            });
        }

        function updateSectionCounts() {
            document.querySelectorAll('.section').forEach(section => {
                const grid = section.querySelector('.tournament-grid');
                const countEl = section.querySelector('.section-count');
                if (grid && countEl) {
                    const count = grid.querySelectorAll('.tournament-card').length;
                    countEl.textContent = count;
                }
            });
        }

        // Tournament Navigation Function
        function navigateToTournament(tournamentId) {
            // Maps tournament IDs to their detail pages
            const tournamentPages = {
                'na-15v15-summer-series': 'na-15v15-summer-series.html',
                'clan-showdown-aug-2025': 'clan-showdown-aug-2025.html',
                'draft-cup-sept-2025': 'draft-cup-sept-2025.html',
            };
            
            const targetPage = tournamentPages[tournamentId];
            if (targetPage) {
                window.location.href = targetPage;
            } else {
                console.log(`Tournament page not found for: ${tournamentId}`);
                alert(`Tournament page for ${tournamentId} is coming soon!`);
            }
        }

    
        document.addEventListener('DOMContentLoaded', () => {
            // updates auth UI
            updateAuthUI();
            // organize tournaments into sections based on data-phase
            organizeTournaments();
            updateSectionCounts();
            
            // click handlers for tournament cards
            document.querySelectorAll('.tournament-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    // Don't navigate if clicking on action buttons or links
                    if (e.target.closest('.action-btn') || e.target.closest('a')) {
                        return;
                    }
                    
                    // Gets tournament ID from data attribute
                    const tournamentId = card.dataset.tournament;
                    if (tournamentId) {
                        navigateToTournament(tournamentId);
                    }
                });
            });

            // click handlers to list items
            document.querySelectorAll('.list-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    // Don't navigate if clicking on action buttons or links
                    if (e.target.closest('.action-btn') || e.target.closest('a')) {
                        return;
                    }
                    
                    // Get tournament ID from data attribute
                    const tournamentId = item.dataset.tournament;
                    if (tournamentId) {
                        navigateToTournament(tournamentId);
                    }
                });
            });
        });

        // button click effects
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent card click
                
                // ripple effect
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}px;
                    top: ${y}px;
                    background: rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    pointer-events: none;
                `;
                
                this.style.position = 'relative';
                this.style.overflow = 'hidden';
                this.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });

        // ripple animation CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                // Close mobile menu on escape
                navMenu.classList.remove('active');
                mobileToggle.querySelector('.material-icons').textContent = 'menu';
                
                // Close user dropdown on escape
                document.getElementById('userDropdown').classList.remove('show');
            }
        });

        // Smooth scrolling for better UX
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const headerHeight = document.querySelector('.header').offsetHeight;
                    const targetPosition = target.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
                
                // Close mobile menu after navigation
                navMenu.classList.remove('active');
                mobileToggle.querySelector('.material-icons').textContent = 'menu';
            });
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Fantasy Tournaments page loaded successfully!');
            
            // Animated progress bars on load
            setTimeout(() => {
                document.querySelectorAll('.progress-fill').forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 500);
        });
    </script>
</body>
</html> 
