    <script>
        // Initialize API
        const api = new FantasyAPI();

        // Sample player data
        const samplePlayers = [
            { name: 'muscles1', team: 'LHG', battles: '100%', points: 5714.7, avg: 53.9, picked: '50.04%' },
            { name: 'notch123', team: '25%', battles: '99%', points: 5550.5, avg: 48.7, picked: '57.61%' },
            { name: 'TheLoveHitman', team: 'TT6', battles: '100%', points: 5298.5, avg: 49.5, picked: '55.14%' },
            { name: 'JxMAN20', team: '25%', battles: '91%', points: 4868.7, avg: 46.4, picked: '11.85%' },
            { name: 'Vyraall', team: 'TT6', battles: '97%', points: 4781.3, avg: 45.8, picked: '29.86%' },
            { name: 'CommanderHalesBrother', team: '25%', battles: '90%', points: 4567.0, avg: 43.9, picked: '17.93%' },
            { name: 'Major_Kenway', team: '25%', battles: '80%', points: 4513.9, avg: 49.1, picked: '10.58%' },
            { name: '_BlitzWolf', team: 'TT6', battles: '79%', points: 4492.0, avg: 52.8, picked: '7.50%' },
            { name: 'Accretia', team: 'WAR', battles: '100%', points: 4461.1, avg: 44.6, picked: '33.53%' },
            { name: '_bloop', team: 'SB', battles: '96%', points: 4395.0, avg: 48.3, picked: '63.84%' },
            { name: 'SgtRumsey', team: 'LHG', battles: '75%', points: 4339.6, avg: 49.1, picked: '25.67%' },
            { name: 'iWrangleEmus', team: 'TT6', battles: '92%', points: 4268.6, avg: 47.8, picked: '18.42%' },
            { name: 'ShiraiKan_ExcalibuR', team: 'WAR', battles: '91%', points: 4036.9, avg: 44.2, picked: '22.15%' },
            { name: 'Mlopesz', team: 'WAR', battles: '100%', points: 4029.7, avg: 40.3, picked: '15.78%' },
            { name: 'SlyGuy_2', team: 'SB', battles: '99%', points: 3998.4, avg: 45.7, picked: '31.25%' },
            { name: 'Captian_Jack9', team: 'SB', battles: '81%', points: 3967.1, avg: 48.9, picked: '28.94%' },
            { name: 'Starick', team: 'WAR', battles: '83%', points: 3895.5, avg: 46.9, picked: '19.73%' },
            { name: 'RM_xD', team: 'SB', battles: '100%', points: 3659.2, avg: 36.6, picked: '8.55%' }
        ];

        let currentRoster = [];
        let maxRosterSize = 10;
        let rostersUnlocked = true; // This will be controlled by cutoff times
        let isAuthenticated = false;
        let currentMatchDay = 1;

        // Roster cutoff configuration - SET YOUR CUTOFF TIMES HERE
        const rosterCutoffs = {
            1: new Date('2025-01-15T18:00:00Z'), // Match Day 1 cutoff
            2: new Date('2025-01-22T18:00:00Z'), // Match Day 2 cutoff  
            3: new Date('2025-01-29T18:00:00Z'), // Match Day 3 cutoff
            4: new Date('2025-02-05T18:00:00Z'), // Match Day 4 cutoff
        };

        // Check if rosters are locked based on current time
        function checkRosterLockStatus() {
            const now = new Date();
            const nextCutoff = rosterCutoffs[currentMatchDay];
            
            if (!nextCutoff) {
                rostersUnlocked = false;
                return;
            }

            if (now >= nextCutoff) {
                rostersUnlocked = false;
                updateRosterStatusUI('locked');
            } else {
                rostersUnlocked = true;
                updateRosterStatusUI('open', nextCutoff);
                startCountdownTimer(nextCutoff);
            }
        }

        function updateRosterStatusUI(status, cutoffTime = null) {
            const statusBadge = document.getElementById('rosterStatus');
            const cutoffTimer = document.getElementById('cutoffTimer');
            
            if (status === 'locked') {
                statusBadge.textContent = 'Rosters Locked';
                statusBadge.classList.add('locked');
                cutoffTimer.style.display = 'none';
            } else {
                statusBadge.textContent = 'Rosters Open';
                statusBadge.classList.remove('locked');
                if (cutoffTime) {
                    cutoffTimer.style.display = 'flex';
                }
            }
        }

        function startCountdownTimer(cutoffTime) {
            const timeDisplay = document.getElementById('timeRemaining');
            
            function updateTimer() {
                const now = new Date();
                const timeLeft = cutoffTime - now;
                
                if (timeLeft <= 0) {
                    rostersUnlocked = false;
                    updateRosterStatusUI('locked');
                    populatePlayersTable(); // Refresh to show locked state
                    return;
                }
                
                const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                
                timeDisplay.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            updateTimer();
            setInterval(updateTimer, 1000);
        }

        // Standings functionality
        let standingsData = [];
        let filteredStandings = [];

        function switchStandingsTab(tab) {
            document.querySelectorAll('.standings-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.standings-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-standings').classList.add('active');
        }

        async function loadStandings() {
            if (!api.isAuthenticated()) return;
            
            try {
                const matchDay = document.getElementById('matchDayFilter').value;
                const response = await api.getLeaderboard('na-15v15-summer-series', matchDay || null);
                
                if (response && response.leaderboard) {
                    standingsData = response.leaderboard;
                    filterAndDisplayStandings();
                } else {
                    displayEmptyStandings();
                }
            } catch (error) {
                console.error('Error loading standings:', error);
                displayEmptyStandings();
            }
        }

        function filterAndDisplayStandings() {
            const searchTerm = document.getElementById('usernameSearch').value.toLowerCase();
            
            filteredStandings = standingsData.filter(entry => 
                entry.username.toLowerCase().includes(searchTerm)
            );
            
            displayStandings();
        }

        function displayStandings() {
            const tbody = document.getElementById('standingsTableBody');
            const emptyState = document.getElementById('standingsEmpty');
            
            if (filteredStandings.length === 0) {
                tbody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            // Update header based on filter
            const matchDayFilter = document.getElementById('matchDayFilter').value;
            const matchDaysHeader = document.getElementById('matchDaysHeader');
            
            if (matchDayFilter) {
                matchDaysHeader.textContent = 'Match Day';
            } else {
                matchDaysHeader.textContent = 'Match Days';
            }
            
            tbody.innerHTML = filteredStandings.map((entry, index) => {
                const rank = index + 1;
                const rankClass = rank <= 3 ? 'top-3' : '';
                
                return `
                    <tr>
                        <td class="standings-rank ${rankClass}">${rank}</td>
                        <td class="standings-username">${entry.username}</td>
                        <td class="standings-score">${parseFloat(entry.total_points || 0).toLocaleString()}</td>
                        <td>${parseFloat(entry.avg_points || 0).toFixed(1)}</td>
                        <td>${matchDayFilter ? matchDayFilter : (entry.match_days_played || 0)}</td>
                    </tr>
                `;
            }).join('');
        }

        function displayEmptyStandings() {
            document.getElementById('standingsTableBody').innerHTML = '';
            document.getElementById('standingsEmpty').style.display = 'block';
        }

        // Authentication functions
        function redirectToLogin() {
            window.location.href = 'login.html?return=' + encodeURIComponent(window.location.href);
        }

        function handleLogout() {
            api.logout();
        }

        function toggleUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const userMenu = document.getElementById('userMenu');
            if (userMenu && !userMenu.contains(e.target)) {
                document.getElementById('userDropdown').classList.remove('show');
            }
        });

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all tabs and content
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Show corresponding content
                const targetTab = tab.dataset.tab;
                const targetContent = document.getElementById(targetTab);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
                
                // Load standings data when switching to standings tab
                if (targetTab === 'standings') {
                    loadStandings();
                }
            });
        });

        // Button actions
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.textContent.includes('Set My Roster')) {
                    if (!isAuthenticated) {
                        showNotification('Please sign in to set your roster', 'error');
                        return;
                    }
                    const playersTab = document.querySelector('[data-tab="players"]');
                    if (playersTab) {
                        playersTab.click();
                    }
                }
            });
        });

        // Standings tab switching
        function switchStandingsTab(tab) {
            document.querySelectorAll('.standings-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.standings-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-standings').classList.add('active');
        }

        function updateAuthUI() {
            const signInBtn = document.getElementById('signInBtn');
            const userMenu = document.getElementById('userMenu');
            const authOverlay = document.getElementById('authOverlay');
            
            if (api.isAuthenticated()) {
                isAuthenticated = true;
                const user = api.getCurrentUser();
                
                // Hide sign in button, show user menu
                signInBtn.style.display = 'none';
                userMenu.style.display = 'block';
                document.getElementById('username').textContent = user.username;
                
                // Hide auth overlay
                authOverlay.style.display = 'none';
                
                // Load user's roster
                loadUserRoster();
            } else {
                isAuthenticated = false;
                
                // Show sign in button, hide user menu
                signInBtn.style.display = 'block';
                userMenu.style.display = 'none';
                
                // Show auth overlay on roster
                authOverlay.style.display = 'flex';
            }
        }

        async function loadUserRoster() {
            if (!api.isAuthenticated()) return;
            
            try {
                const response = await api.getRoster('na-15v15-summer-series');
                if (response && response.roster) {
                    currentRoster = response.roster;
                    console.log('User roster loaded:', currentRoster);
                }
            } catch (error) {
                console.error('Error loading user roster:', error);
                // Fall back to local storage for demo
                const saved = localStorage.getItem('roster_na-15v15-summer-series_demo');
                if (saved) {
                    currentRoster = JSON.parse(saved);
                    console.log('Roster loaded from local storage:', currentRoster);
                }
            }
        }

        // Populate players table
        function populatePlayersTable() {
            const tbody = document.getElementById('playersTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';

            // Filter players by team if selected
            const teamFilter = document.getElementById('teamFilter');
            const selectedTeam = teamFilter ? teamFilter.value : '';
            const filteredPlayers = selectedTeam ? 
                samplePlayers.filter(p => p.team === selectedTeam) : 
                samplePlayers;

            filteredPlayers.forEach(player => {
                const row = document.createElement('tr');
                
                // Determine action button state
                let actionIcon = 'lock';
                let actionClass = '';
                let actionTitle = 'Rosters are locked';
                
                if (!isAuthenticated) {
                    actionIcon = 'lock';
                    actionClass = '';
                    actionTitle = 'Please sign in to add players';
                } else if (rostersUnlocked) {
                    if (currentRoster.includes(player.name)) {
                        actionIcon = 'remove';
                        actionClass = 'remove';
                        actionTitle = 'Remove from roster';
                    } else if (currentRoster.length < maxRosterSize) {
                        actionIcon = 'add';
                        actionClass = 'add';
                        actionTitle = 'Add to roster';
                    } else {
                        actionIcon = 'lock';
                        actionClass = '';
                        actionTitle = 'Roster is full';
                    }
                } else {
                    actionIcon = 'lock';
                    actionClass = '';
                    actionTitle = 'Rosters are locked';
                }

                row.innerHTML = `
                    <td class="action-column">
                        <button class="player-action-btn ${actionClass}" 
                                data-player="${player.name}" 
                                title="${actionTitle}">
                            <span class="material-icons">${actionIcon}</span>
                        </button>
                    </td>
                    <td class="player-name">${player.name}</td>
                    <td class="player-team">${player.team}</td>
                    <td class="player-battles">${player.battles}</td>
                    <td class="player-points">${parseFloat(player.points).toLocaleString()}</td>
                    <td class="player-avg">${player.avg}</td>
                    <td class="player-picked">${player.picked}</td>
                `;
                
                tbody.appendChild(row);
            });

            // Add event listeners to action buttons
            document.querySelectorAll('.player-action-btn').forEach(btn => {
                btn.addEventListener('click', handlePlayerAction);
            });
        }

        // Handle player roster actions
        function handlePlayerAction(e) {
            const playerName = e.currentTarget.dataset.player;
            const button = e.currentTarget;
            
            if (!isAuthenticated) {
                showNotification('Please sign in to manage your roster', 'error');
                return;
            }
            
            if (!rostersUnlocked) {
                showNotification('Rosters are currently locked for this tournament', 'error');
                return;
            }
            
            if (button.classList.contains('add')) {
                addPlayerToRoster(playerName);
            } else if (button.classList.contains('remove')) {
                removePlayerFromRoster(playerName);
            }
        }

        // Add player to roster
        function addPlayerToRoster(playerName) {
            if (!isAuthenticated) {
                showNotification('Please sign in to add players to your roster', 'error');
                return;
            }

            if (currentRoster.length >= maxRosterSize) {
                showNotification(`Roster is full (${maxRosterSize} players maximum)`, 'error');
                return;
            }
            
            if (currentRoster.includes(playerName)) {
                showNotification('Player is already in your roster', 'error');
                return;
            }
            
            currentRoster.push(playerName);
            updateRosterDisplay();
            populatePlayersTable();
            saveRosterToStorage();
            
            showNotification(`${playerName} added to roster`, 'success');
        }

        // Remove player from roster
        function removePlayerFromRoster(playerName) {
            if (!isAuthenticated) {
                showNotification('Please sign in to manage your roster', 'error');
                return;
            }

            const index = currentRoster.indexOf(playerName);
            if (index > -1) {
                currentRoster.splice(index, 1);
                updateRosterDisplay();
                populatePlayersTable();
                saveRosterToStorage();
                
                showNotification(`${playerName} removed from roster`, 'success');
            }
        }

        // Update roster display
        function updateRosterDisplay() {
            const rosterCount = document.getElementById('rosterCount');
            const rosterList = document.getElementById('rosterList');
            const rosterMessage = document.getElementById('rosterMessage');
            
            if (!rosterCount) return;
            
            rosterCount.textContent = currentRoster.length;
            
            if (isAuthenticated && rostersUnlocked && currentRoster.length > 0) {
                if (rosterMessage) rosterMessage.style.display = 'none';
                if (rosterList) {
                    rosterList.style.display = 'block';
                    rosterList.innerHTML = currentRoster.map(playerName => `
                        <div class="roster-player">
                            <span class="roster-player-name">${playerName}</span>
                            <button class="roster-player-remove" 
                                    onclick="removePlayerFromRoster('${playerName}')"
                                    title="Remove player">
                                <span class="material-icons" style="font-size: 1rem;">close</span>
                            </button>
                        </div>
                    `).join('');
                }
            } else {
                if (rosterMessage) {
                    rosterMessage.style.display = 'block';
                    if (!isAuthenticated) {
                        rosterMessage.innerHTML = 'Your roster is empty. Add players from the table above to build your fantasy team.';
                    } else if (!rostersUnlocked) {
                        rosterMessage.innerHTML = `
                            Rosters are currently locked for this tournament.
                            <br><br>
                            Tournament administrators may be configuring the site or the tournament may be in progress.
                            <br><br>
                            <small style="color: #00d4ff;">Developer Note: Change "rostersUnlocked" to true in the code to test roster functionality</small>
                        `;
                    } else {
                        rosterMessage.innerHTML = 'Your roster is empty. Add players from the table above to build your fantasy team.';
                    }
                }
                if (rosterList) rosterList.style.display = 'none';
            }
        }

        // Save roster
        async function saveRosterToStorage() {
            if (!isAuthenticated) return;

            try {
                await api.saveRoster('na-15v15-summer-series', currentRoster);
                console.log('Roster saved to backend:', currentRoster);
            } catch (error) {
                console.error('Error saving roster:', error);
                // Fall back to local storage
                localStorage.setItem('roster_na-15v15-summer-series_demo', JSON.stringify(currentRoster));
                console.log('Roster saved locally:', currentRoster);
            }
        }

        // Sort table functionality
        function sortTable(column, direction) {
            samplePlayers.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];
                
                if (column === 'points' || column === 'avg') {
                    aVal = parseFloat(aVal);
                    bVal = parseFloat(bVal);
                } else if (column === 'picked' || column === 'battles') {
                    aVal = parseFloat(aVal.replace('%', ''));
                    bVal = parseFloat(bVal.replace('%', ''));
                }
                
                if (direction === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });
            
            populatePlayersTable();
        }

        // Filter table functionality
        function filterTable() {
            populatePlayersTable();
        }

        // Show notification messages
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.innerHTML = `
                <span class="material-icons">${type === 'success' ? 'check_circle' : 'error'}</span>
                <span>${message}</span>
                <button onclick="this.parentElement.remove()">
                    <span class="material-icons">close</span>
                </button>
            `;
            
            notification.style.cssText = `
                position: fixed;
                top: 2rem;
                right: 2rem;
                background: ${type === 'success' ? 'rgba(34, 197, 94, 0.9)' : 'rgba(239, 68, 68, 0.9)'};
                color: white;
                padding: 1rem;
                border-radius: 8px;
                display: flex;
                align-items: center;
                gap: 0.5rem;
                z-index: 10000;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                backdrop-filter: blur(10px);
                animation: slideInRight 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 4000);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Tournament page loaded successfully!');
            
            // Update authentication UI first
            updateAuthUI();
            
            // Check roster lock status and start timer
            checkRosterLockStatus();
            
            // Then populate table and roster
            populatePlayersTable();
            updateRosterDisplay();
            
            // Load standings
            loadStandings();
            
            // Add table sorting
            document.querySelectorAll('.sortable').forEach(th => {
                th.addEventListener('click', () => {
                    const column = th.dataset.sort;
                    const currentDirection = th.classList.contains('asc') ? 'desc' : 'asc';
                    
                    document.querySelectorAll('.sortable').forEach(header => {
                        header.classList.remove('asc', 'desc');
                    });
                    
                    th.classList.add(currentDirection);
                    
                    // Check if this is standings table or players table
                    if (th.closest('.standings-table')) {
                        sortStandings(column, currentDirection);
                    } else {
                        sortTable(column, currentDirection);
                    }
                });
            });
            
            // Add filter functionality
            const teamFilter = document.getElementById('teamFilter');
            if (teamFilter) {
                teamFilter.addEventListener('change', filterTable);
            }
            
            // Add standings filters
            const matchDayFilter = document.getElementById('matchDayFilter');
            if (matchDayFilter) {
                matchDayFilter.addEventListener('change', loadStandings);
            }
            
            const usernameSearch = document.getElementById('usernameSearch');
            if (usernameSearch) {
                usernameSearch.addEventListener('input', filterAndDisplayStandings);
            }
        });

        function sortStandings(column, direction) {
            filteredStandings.sort((a, b) => {
                let aVal, bVal;
                
                switch(column) {
                    case 'username':
                        aVal = a.username;
                        bVal = b.username;
                        break;
                    case 'score':
                        aVal = parseFloat(a.total_points || 0);
                        bVal = parseFloat(b.total_points || 0);
                        break;
                    case 'average':
                        aVal = parseFloat(a.avg_points || 0);
                        bVal = parseFloat(b.avg_points || 0);
                        break;
                    case 'matchDays':
                        aVal = parseInt(a.match_days_played || 0);
                        bVal = parseInt(b.match_days_played || 0);
                        break;
                    default:
                        return 0;
                }
                
                if (direction === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });
            
            displayStandings();
        }

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all tabs and content
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Show corresponding content
                const targetTab = tab.dataset.tab;
                const targetContent = document.getElementById(targetTab);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
                
                // Load standings data when switching to standings tab
                if (targetTab === 'standings') {
                    loadStandings();
                }
            });
        });

        // Standings tab switching
        function switchStandingsTab(tab) {
            document.querySelectorAll('.standings-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.standings-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-standings').classList.add('active');
        }

        // Button actions
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.textContent.includes('Set My Roster')) {
                    if (!isAuthenticated) {
                        showNotification('Please sign in to set your roster', 'error');
                        return;
                    }
                    const playersTab = document.querySelector('[data-tab="players"]');
                    if (playersTab) {
                        playersTab.click();
                    }
                }
            });
        });

        // Add animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NA 15v15 Summer Series - WoT Fantasy</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        /* Material Icons fallback */
        .material-icons {
            font-family: 'Material Icons', 'Material Icons Outlined', sans-serif;
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: rgba(15, 20, 25, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 36px;
            width: auto;
            max-width: 220px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
        }

        .logo:hover img {
            transform: scale(1.05);
            filter: drop-shadow(0 0 30px rgba(0, 212, 255, 0.5));
        }

        .nav-menu {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-link {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-link:hover {
            color: #00d4ff;
            transform: translateY(-2px);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .region-selector {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 0.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .region-btn {
            padding: 0.6rem 1.2rem;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .region-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            transform: translateY(-2px);
        }

        .region-btn.active {
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            border-color: #00d4ff;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .auth-section {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .user-menu {
            position: relative;
        }

        .user-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.6rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .user-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(0, 212, 255, 0.5);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: rgba(15, 20, 25, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 0.5rem;
            min-width: 200px;
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1000;
        }

        .user-dropdown.show {
            display: block;
            animation: fadeInDown 0.3s ease;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        .dropdown-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 0.5rem 0;
        }

        .sign-in-btn {
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            border: none;
            color: white;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.2);
        }

        .sign-in-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 212, 255, 0.4);
            background: linear-gradient(135deg, #00b8e6, #00d4ff);
        }

        .mobile-toggle {
            display: none;
            background: transparent;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        /* Tournament Header */
        .tournament-header {
            background: 
                radial-gradient(circle at 30% 20%, rgba(0, 212, 255, 0.15), transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(0, 184, 230, 0.1), transparent 50%),
                linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(26, 35, 50, 0.2));
            padding: 3rem 0 2rem;
            position: relative;
            overflow: hidden;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tournament-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.5;
        }

        .tournament-header-content {
            position: relative;
            z-index: 2;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .tournament-info {
            flex: 1;
            min-width: 300px;
        }

        .tournament-breadcrumb {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tournament-breadcrumb a {
            color: #00d4ff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .tournament-breadcrumb a:hover {
            color: #ffffff;
        }

        .tournament-name {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #00d4ff 0%, #00b8e6 50%, #0099cc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .tournament-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }

        .meta-icon {
            color: #00d4ff;
            font-size: 1.2rem;
        }

        .tournament-status-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .status-badge {
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.4);
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.2);
        }

        .status-badge.locked {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border-color: rgba(239, 68, 68, 0.4);
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.2);
        }

        .cutoff-timer {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            border: 1px solid rgba(255, 193, 7, 0.4);
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Standings Styles */
        .standings-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 0.5rem;
            margin-bottom: 2rem;
            width: fit-content;
        }

        .standings-tab {
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .standings-tab.active {
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .standings-content {
            display: none;
        }

        .standings-content.active {
            display: block;
        }

        .standings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .standings-filters {
            display: flex;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .filter-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            min-width: 200px;
        }

        .filter-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .filter-input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }

        .standings-table-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .standings-table {
            width: 100%;
            border-collapse: collapse;
        }

        .standings-table th {
            background: rgba(255, 255, 255, 0.08);
            padding: 1rem;
            text-align: left;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .standings-table th.sortable {
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .standings-table th.sortable:hover {
            background: rgba(255, 255, 255, 0.12);
            color: #00d4ff;
        }

        .standings-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
        }

        .standings-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .standings-rank {
            font-weight: 700;
            color: #00d4ff;
            min-width: 3rem;
        }

        .standings-rank.top-3 {
            color: #ffd700;
        }

        .standings-username {
            font-weight: 600;
            color: #ffffff;
        }

        .standings-score {
            font-weight: 600;
            color: #00d4ff;
        }

        .standings-empty {
            text-align: center;
            padding: 4rem 2rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .standings-empty h3 {
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .fantasy-info {
            text-align: right;
        }

        .fantasy-stat {
            font-size: 2rem;
            font-weight: 800;
            color: #00d4ff;
            margin-bottom: 0.5rem;
        }

        .fantasy-label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .roster-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .action-btn {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.2);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: none;
        }

        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(0, 212, 255, 0.5);
        }

        /* Tournament Navigation */
        .tournament-nav {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 80px;
            z-index: 999;
        }

        .tournament-nav-container {
            display: flex;
            justify-content: center;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .tournament-nav-container::-webkit-scrollbar {
            display: none;
        }

        .nav-tabs {
            display: flex;
            gap: 0;
            list-style: none;
            min-width: max-content;
        }

        .nav-tab {
            padding: 1.2rem 2rem;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 3px solid transparent;
            position: relative;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-tab:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-tab.active {
            color: #00d4ff;
            border-bottom-color: #00d4ff;
            background: rgba(0, 212, 255, 0.05);
        }

        /* Main Content Area */
        .tournament-content {
            padding: 3rem 0;
            min-height: 60vh;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Overview Tab */
        .overview-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .overview-main {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2.5rem;
            backdrop-filter: blur(10px);
        }

        .overview-sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-subtitle {
            font-size: 1.2rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tournament-description {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.7;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .progress-section {
            margin-bottom: 2rem;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .progress-fill {
            background: linear-gradient(135deg, #00d4ff, #00b8e6);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .quick-stat {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quick-stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #00d4ff;
            display: block;
            margin-bottom: 0.5rem;
        }

        .quick-stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Top Teams List */
        .teams-list {
            list-style: none;
        }

        .team-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            margin-bottom: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .team-item:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .team-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .team-rank {
            font-weight: 700;
            color: #00d4ff;
            min-width: 2rem;
        }

        .team-name {
            font-weight: 600;
            color: #ffffff;
        }

        .team-score {
            font-weight: 600;
            color: #00d4ff;
        }

        /* Recent Activity */
        .activity-list {
            list-style: none;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            color: #00d4ff;
            font-size: 1.2rem;
        }

        .activity-content {
            flex: 1;
        }

        .activity-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            margin-bottom: 0.2rem;
        }

        .activity-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        /* Players Tab Styles */
        .players-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .players-filters {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-group label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .filter-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            min-width: 120px;
        }

        .filter-select option {
            background: #1a2332;
            color: #ffffff;
        }

        .show-label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .players-table-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
        }

        .players-table {
            width: 100%;
            border-collapse: collapse;
        }

        .players-table th {
            background: rgba(255, 255, 255, 0.08);
            padding: 1rem;
            text-align: left;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .players-table th.sortable {
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .players-table th.sortable:hover {
            background: rgba(255, 255, 255, 0.12);
            color: #00d4ff;
        }

        .players-table th.action-column {
            width: 80px;
            text-align: center;
        }

        .sort-icon {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1rem;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .players-table th.sortable.asc .sort-icon {
            transform: translateY(-50%) rotate(180deg);
            opacity: 1;
            color: #00d4ff;
        }

        .players-table th.sortable.desc .sort-icon {
            opacity: 1;
            color: #00d4ff;
        }

        .players-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
        }

        .players-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .player-action-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.7);
            padding: 0.5rem;
            border-radius: 6px;
            cursor: not-allowed;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
        }

        .player-action-btn.add {
            border-color: rgba(34, 197, 94, 0.5);
            color: #22c55e;
            cursor: pointer;
        }

        .player-action-btn.add:hover {
            background: rgba(34, 197, 94, 0.2);
            border-color: #22c55e;
            transform: scale(1.05);
        }

        .player-action-btn.remove {
            border-color: rgba(239, 68, 68, 0.5);
            color: #ef4444;
            cursor: pointer;
        }

        .player-action-btn.remove:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
            transform: scale(1.05);
        }

        .player-name {
            font-weight: 600;
            color: #ffffff;
        }

        .player-team {
            font-weight: 600;
            color: #00d4ff;
        }

        .player-battles {
            color: rgba(255, 255, 255, 0.8);
        }

        .player-points {
            font-weight: 600;
            color: #00d4ff;
        }

        .player-avg {
            color: rgba(255, 255, 255, 0.8);
        }

        .player-picked {
            color: rgba(255, 255, 255, 0.7);
        }

        .roster-sidebar {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 300px;
            z-index: 1000;
        }

        .roster-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .roster-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 1rem;
            text-align: center;
        }

        .roster-status {
            text-align: center;
            color: #00d4ff;
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .roster-message {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            line-height: 1.5;
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .roster-message.auth-required {
            filter: blur(2px);
            pointer-events: none;
        }

        .auth-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .auth-message {
            background: rgba(15, 20, 25, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            color: #ffffff;
            backdrop-filter: blur(10px);
            max-width: 280px;
        }

        .auth-message h4 {
            color: #00d4ff;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .auth-message p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .roster-list {
            display: none;
        }

        .roster-player {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .roster-player-name {
            color: #ffffff;
            font-weight: 500;
        }

        .roster-player-remove {
            background: transparent;
            border: none;
            color: #ef4444;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .roster-player-remove:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        /* Footer */
        .footer {
            background: rgba(15, 20, 25, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem 0 2rem;
            margin-top: 5rem;
            backdrop-filter: blur(20px);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .footer-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .footer-links a:hover {
            color: #00d4ff;
            transform: translateY(-2px);
        }

        .footer-note {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            text-align: center;
            max-width: 400px;
        }

        /* Focus states for accessibility */
        .action-btn:focus,
        .nav-tab:focus,
        .region-btn:focus,
        .player-action-btn:focus {
            outline: 2px solid #00d4ff;
            outline-offset: 2px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .roster-sidebar {
                position: static;
                transform: none;
                width: 100%;
                margin-top: 2rem;
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(15, 20, 25, 0.98);
                flex-direction: column;
                padding: 2rem;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-menu.active {
                display: flex;
            }

            .mobile-toggle {
                display: block;
            }

            .tournament-name {
                font-size: 2rem;
            }

            .tournament-header-content {
                flex-direction: column;
                align-items: stretch;
            }

            .overview-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .tournament-meta {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .nav-tabs {
                flex-wrap: wrap;
                justify-content: center;
            }

            .nav-tab {
                padding: 1rem 1.5rem;
                font-size: 0.9rem;
            }

            .quick-stats {
                grid-template-columns: 1fr;
            }

            .roster-actions {
                flex-direction: column;
            }

            .players-header {
                flex-direction: column;
                align-items: stretch;
            }

            .players-filters {
                justify-content: space-between;
            }

            .players-table-container {
                overflow-x: auto;
            }

            .players-table {
                min-width: 600px;
            }

            .players-table th,
            .players-table td {
                padding: 0.75rem 0.5rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <header class="header" id="header">
        <nav class="nav container">
            <a href="index.html" class="logo">
                <img src="images/WotFan200x36.png" alt="Fantasy Tanks Logo">
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="tournaments.html" class="nav-link">Tournaments</a></li>
                <li><a href="index.html#groups" class="nav-link">Groups</a></li>
                <li><a href="index.html#guide" class="nav-link">Guide</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>

            <div class="region-selector">
                <button class="region-btn active" data-region="na" aria-label="North America region">NA</button>
                <button class="region-btn" data-region="eu" aria-label="Europe region">EU</button>
                <button class="region-btn" data-region="ru" aria-label="Russia region">RU</button>
                <button class="region-btn" data-region="asia" aria-label="Asia region">ASIA</button>
            </div>

            <div class="auth-section">
                <div class="user-menu" id="userMenu" style="display: none;">
                    <button class="user-btn" onclick="toggleUserDropdown()">
                        <span class="material-icons">person</span>
                        <span id="username"></span>
                        <span class="material-icons">expand_more</span>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#profile" class="dropdown-item">
                            <span class="material-icons">person</span>
                            Profile
                        </a>
                        <a href="#settings" class="dropdown-item">
                            <span class="material-icons">settings</span>
                            Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#logout" class="dropdown-item" onclick="handleLogout()">
                            <span class="material-icons">logout</span>
                            Sign Out
                        </a>
                    </div>
                </div>
                <button class="sign-in-btn" id="signInBtn" aria-label="Sign in to your account" onclick="redirectToLogin()">Sign In</button>
                <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle mobile menu">
                    <span class="material-icons">menu</span>
                </button>
            </div>
        </nav>
    </header>

    <main>
        <!-- Tournament Header -->
        <section class="tournament-header">
            <div class="container">
                <div class="tournament-header-content">
                    <div class="tournament-info">
                        <div class="tournament-breadcrumb">
                            <a href="tournaments.html">Tournaments</a>
                            <span class="material-icons" style="font-size: 1rem;">chevron_right</span>
                            <span>NA 15v15 Summer Series</span>
                        </div>
                        
                        <h1 class="tournament-name">NA 15v15 Summer Series</h1>
                        
                        <div class="tournament-meta">
                            <div class="meta-item">
                                <span class="material-icons meta-icon">public</span>
                                <span>North America</span>
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">groups</span>
                                <span>Pick 10 Players</span>
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">schedule</span>
                                <span>22d 14h left</span>
                            </div>
                            <div class="meta-item">
                                <span class="material-icons meta-icon">sports_esports</span>
                                <span>93 Fantasy Teams</span>
                            </div>
                        </div>

                        <div class="tournament-status-header">
                            <span class="status-badge" id="rosterStatus">Rosters Open</span>
                            <div class="cutoff-timer" id="cutoffTimer" style="display: none;">
                                <span class="material-icons">schedule</span>
                                <span id="timeRemaining">--:--:--</span>
                            </div>
                        </div>

                        <div class="roster-actions">
                            <button class="action-btn">
                                <span class="material-icons">sports_esports</span>
                                Set My Roster
                            </button>
                            <button class="action-btn secondary">
                                <span class="material-icons">leaderboard</span>
                                View Leaderboard
                            </button>
                        </div>
                    </div>

                    <div class="fantasy-info">
                        <div class="fantasy-label">Fantasy Teams Competing</div>
                        <div class="fantasy-stat">93</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tournament Navigation -->
        <nav class="tournament-nav">
            <div class="container">
                <div class="tournament-nav-container">
                    <ul class="nav-tabs">
                        <li><a href="#overview" class="nav-tab active" data-tab="overview">
                            <span class="material-icons" style="font-size: 1rem;">home</span>
                            Overview
                        </a></li>
                        <li><a href="#schedule" class="nav-tab" data-tab="schedule">
                            <span class="material-icons" style="font-size: 1rem;">schedule</span>
                            Schedule
                        </a></li>
                        <li><a href="#standings" class="nav-tab" data-tab="standings">
                            <span class="material-icons" style="font-size: 1rem;">leaderboard</span>
                            Standings
                        </a></li>
                        <li><a href="#players" class="nav-tab" data-tab="players">
                            <span class="material-icons" style="font-size: 1rem;">people</span>
                            Players
                        </a></li>
                        <li><a href="#teams" class="nav-tab" data-tab="teams">
                            <span class="material-icons" style="font-size: 1rem;">groups</span>
                            Teams
                        </a></li>
                        <li><a href="#stats" class="nav-tab" data-tab="stats">
                            <span class="material-icons" style="font-size: 1rem;">analytics</span>
                            Stats
                        </a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Tournament Content -->
        <section class="tournament-content container">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="overview-grid">
                    <div class="overview-main">
                        <h2 class="section-title">
                            <span class="material-icons">info</span>
                            Tournament Information
                        </h2>
                        <p class="tournament-description">
                            Welcome to the fantasy tournament based on the NA 15v15 Summer Series professional league. Draft your ultimate fantasy lineup from the real pro players competing in the actual tournament and earn points based on their performance.
                        </p>
                        <p class="tournament-description">
                            Fantasy points are awarded based on real-time performance metrics including eliminations, damage dealt, objectives captured, and overall team performance. Build your roster of 10 players strategically to maximize your fantasy points and climb the leaderboard against other fantasy teams.
                        </p>

                        <div class="progress-section">
                            <h3 class="section-subtitle">
                                <span class="material-icons">timeline</span>
                                Tournament Progress
                            </h3>
                            <div class="progress-label">
                                <span>Pro Tournament Phase: Qualifiers</span>
                                <span>15%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 15%;"></div>
                            </div>
                            <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem; margin-top: 0.5rem;">
                                Pro teams are currently competing in the qualifier stage. Fantasy scoring begins when group stage starts in 8 days.
                            </p>
                        </div>

                        <div class="quick-stats">
                            <div class="quick-stat">
                                <span class="quick-stat-number">16</span>
                                <span class="quick-stat-label">Pro Teams</span>
                            </div>
                            <div class="quick-stat">
                                <span class="quick-stat-number">160</span>
                                <span class="quick-stat-label">Available Players</span>
                            </div>
                            <div class="quick-stat">
                                <span class="quick-stat-number">93</span>
                                <span class="quick-stat-label">Fantasy Teams</span>
                            </div>
                            <div class="quick-stat">
                                <span class="quick-stat-number">4</span>
                                <span class="quick-stat-label">Weeks Duration</span>
                            </div>
                        </div>
                    </div>

                    <div class="overview-sidebar">
                        <div class="sidebar-card">
                            <h3 class="section-subtitle">
                                <span class="material-icons">emoji_events</span>
                                Top Fantasy Teams
                            </h3>
                            <ul class="teams-list">
                                <li class="team-item">
                                    <div class="team-info">
                                        <span class="team-rank">1</span>
                                        <span class="team-name">TankCommander_Pro</span>
                                    </div>
                                    <span class="team-score">2,847</span>
                                </li>
                                <li class="team-item">
                                    <div class="team-info">
                                        <span class="team-rank">2</span>
                                        <span class="team-name">SteelStrategist_2025</span>
                                    </div>
                                    <span class="team-score">2,739</span>
                                </li>
                                <li class="team-item">
                                    <div class="team-info">
                                        <span class="team-rank">3</span>
                                        <span class="team-name">ArmorMaster_Elite</span>
                                    </div>
                                    <span class="team-score">2,681</span>
                                </li>
                                <li class="team-item">
                                    <div class="team-info">
                                        <span class="team-rank">4</span>
                                        <span class="team-name">BattlefieldGuru</span>
                                    </div>
                                    <span class="team-score">2,594</span>
                                </li>
                                <li class="team-item">
                                    <div class="team-info">
                                        <span class="team-rank">5</span>
                                        <span class="team-name">IronEagle_Manager</span>
                                    </div>
                                    <span class="team-score">2,512</span>
                                </li>
                            </ul>
                        </div>

                        <div class="sidebar-card">
                            <h3 class="section-subtitle">
                                <span class="material-icons">notifications</span>
                                Recent Activity
                            </h3>
                            <ul class="activity-list">
                                <li class="activity-item">
                                    <span class="material-icons activity-icon">person_add</span>
                                    <div class="activity-content">
                                        <div class="activity-text">New fantasy team joined: TankMaster_2025</div>
                                        <div class="activity-time">2 hours ago</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <span class="material-icons activity-icon">swap_horiz</span>
                                    <div class="activity-content">
                                        <div class="activity-text">Popular pick: SlyGuy_2 drafted by 12 fantasy teams</div>
                                        <div class="activity-time">4 hours ago</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <span class="material-icons activity-icon">star</span>
                                    <div class="activity-content">
                                        <div class="activity-text">Fantasy leader: GrapeKun_PourOneOut most valuable pick</div>
                                        <div class="activity-time">6 hours ago</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <span class="material-icons activity-icon">schedule</span>
                                    <div class="activity-content">
                                        <div class="activity-text">Fantasy scoring starts when pro matches begin in 18 hours</div>
                                        <div class="activity-time">8 hours ago</div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule Tab -->
            <div id="schedule" class="tab-content">
                <h2 class="section-title">
                    <span class="material-icons">schedule</span>
                    Pro Tournament Schedule
                </h2>
                <div style="text-align: center; padding: 4rem 2rem; color: rgba(255, 255, 255, 0.6);">
                    <span class="material-icons" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.4;">schedule</span>
                    <h3 style="margin-bottom: 1rem;">Pro Match Schedule Coming Soon</h3>
                    <p>Pro tournament match schedules will be available here to help you track when your fantasy players compete.</p>
                </div>
            </div>

            <!-- Standings Tab -->
            <div id="standings" class="tab-content">
                <h2 class="section-title">
                    <span class="material-icons">leaderboard</span>
                    Tournament Standings
                </h2>
                
                <!-- Standings Sub-tabs -->
                <div class="standings-tabs">
                    <button class="standings-tab active" onclick="switchStandingsTab('fantasy')">Fantasy Standings</button>
                    <button class="standings-tab" onclick="switchStandingsTab('teams')">Team Standings</button>
                </div>

                <!-- Fantasy Standings -->
                <div id="fantasy-standings" class="standings-content active">
                    <div class="standings-header">
                        <div class="standings-filters">
                            <div class="filter-group">
                                <label for="matchDayFilter">Match Day:</label>
                                <select id="matchDayFilter" class="filter-select">
                                    <option value="">All Match Days (Overall)</option>
                                    <option value="1">Match Day 1</option>
                                    <option value="2">Match Day 2</option>
                                    <option value="3">Match Day 3</option>
                                    <option value="4">Match Day 4</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <input type="text" id="usernameSearch" class="filter-input" placeholder="Search by username...">
                            </div>
                        </div>
                    </div>

                    <div class="standings-table-container">
                        <table class="standings-table">
                            <thead>
                                <tr>
                                    <th class="sortable" data-sort="rank">Rank</th>
                                    <th class="sortable" data-sort="username">
                                        Username
                                        <span class="material-icons sort-icon">expand_more</span>
                                    </th>
                                    <th class="sortable" data-sort="score">
                                        Score
                                        <span class="material-icons sort-icon">expand_more</span>
                                    </th>
                                    <th class="sortable" data-sort="average">
                                        Avg. Score
                                    </th>
                                    <th class="sortable" data-sort="matchDays" id="matchDaysHeader">
                                        Match Days
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="standingsTableBody">
                                <!-- Standings will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <div class="standings-empty" id="standingsEmpty" style="display: none;">
                        <span class="material-icons" style="font-size: 4rem; opacity: 0.4;">leaderboard</span>
                        <h3>No Fantasy Standings Yet</h3>
                        <p>Fantasy standings will appear here once match scoring begins.</p>
                    </div>
                </div>

                <!-- Team Standings (Pro Teams) -->
                <div id="team-standings" class="standings-content">
                    <div style="text-align: center; padding: 4rem 2rem; color: rgba(255, 255, 255, 0.6);">
                        <span class="material-icons" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.4;">groups</span>
                        <h3 style="margin-bottom: 1rem;">Pro Team Standings Coming Soon</h3>
                        <p>Professional team standings from the actual tournament will be displayed here.</p>
                    </div>
                </div>
            </div>

            <!-- Players Tab -->
            <div id="players" class="tab-content">
                <div class="players-header">
                    <h2 class="section-title">
                        <span class="material-icons">people</span>
                        Fantasy Player Pool
                    </h2>
                    <div class="players-filters">
                        <div class="filter-group">
                            <label for="teamFilter">Team:</label>
                            <select id="teamFilter" class="filter-select">
                                <option value="">All Teams</option>
                                <option value="LHG">LHG</option>
                                <option value="25%">25%</option>
                                <option value="TT6">TT6</option>
                                <option value="WAR">WAR</option>
                                <option value="SB">SB</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <span class="show-label">SHOW</span>
                        </div>
                    </div>
                </div>

                <div class="players-table-container">
                    <table class="players-table">
                        <thead>
                            <tr>
                                <th class="action-column">Action</th>
                                <th class="sortable" data-sort="name">
                                    Name
                                    <span class="material-icons sort-icon">expand_more</span>
                                </th>
                                <th class="sortable" data-sort="team">
                                    Team
                                </th>
                                <th class="sortable" data-sort="battles">
                                    Battles
                                </th>
                                <th class="sortable" data-sort="points">
                                    Points
                                    <span class="material-icons sort-icon">expand_more</span>
                                </th>
                                <th class="sortable" data-sort="avg">
                                    Avg. Points
                                </th>
                                <th class="sortable" data-sort="picked">
                                    Picked By
                                </th>
                            </tr>
                        </thead>
                        <tbody id="playersTableBody">
                            <!-- Players will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="roster-sidebar">
                    <div class="roster-card">
                        <h3 class="roster-title">Your Fantasy Roster</h3>
                        <div class="roster-status">
                            <span id="rosterCount">0</span>/10 Players Selected
                        </div>
                        <div class="roster-message" id="rosterMessage">
                            Your roster is empty. Add players from the table above to build your fantasy team.
                        </div>
                        <div class="roster-list" id="rosterList">
                            <!-- Selected players will appear here -->
                        </div>
                        <div class="auth-overlay" id="authOverlay" style="display: none;">
                            <div class="auth-message">
                                <h4>Sign In Required</h4>
                                <p>Please sign in to start building your Fantasy Roster. Click the Sign In button in the top-right of the page.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Teams Tab -->
            <div id="teams" class="tab-content">
                <h2 class="section-title">
                    <span class="material-icons">groups</span>
                    Pro Team Rosters
                </h2>
                <div style="text-align: center; padding: 4rem 2rem; color: rgba(255, 255, 255, 0.6);">
                    <span class="material-icons" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.4;">groups</span>
                    <h3 style="margin-bottom: 1rem;">Pro Team Rosters Loading</h3>
                    <p>Professional team rosters showing which players are available for fantasy drafting will be displayed here.</p>
                </div>
            </div>

            <!-- Stats Tab -->
            <div id="stats" class="tab-content">
                <h2 class="section-title">
                    <span class="material-icons">analytics</span>
                    Fantasy Statistics
                </h2>
                <div style="text-align: center; padding: 4rem 2rem; color: rgba(255, 255, 255, 0.6);">
                    <span class="material-icons" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.4;">analytics</span>
                    <h3 style="margin-bottom: 1rem;">Fantasy Stats Coming Soon</h3>
                    <p>Detailed fantasy performance analytics, player trends, and optimal drafting insights will be available during the tournament.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="#resources">Resources</a></li>
                    <li><a href="#terms">Terms of Service</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="#privacy">Privacy Policy</a></li>
                </ul>
                <div class="footer-note">
                    <p>Original concept by Hypnotik • Created by Joshua Neuenhoff, aka Unknown0ne</p>
                    <p>This website is not affiliated with Wargaming.net or World of Tanks</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/api.js"></script>
    <script>
        // API client for connecting to your Railway backend
        class FantasyAPI {
            constructor() {
                this.baseURL = 'https://fantasytanks-production.up.railway.app/api';
                this.token = localStorage.getItem('authToken');
            }

            async request(endpoint, options = {}) {
                const url = `${this.baseURL}${endpoint}`;
                const config = {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                };

                if (this.token) {
                    config.headers.Authorization = `Bearer ${this.token}`;
                }

                try {
                    const response = await fetch(url, config);
                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error(data.error || 'API request failed');
                    }

                    return data;
                } catch (error) {
                    console.error('API request error:', error);
                    throw error;
                }
            }

            async getRoster(tournamentId) {
                return await this.request(`/roster?tournamentId=${tournamentId}`);
            }

            async saveRoster(tournamentId, roster) {
                return await this.request('/roster', {
                    method: 'POST',
                    body: JSON.stringify({ tournamentId, roster })
                });
            }

            isAuthenticated() {
                return !!this.token;
            }
        }

        // Initialize API
        const api = new FantasyAPI();

        // Sample player data
        const samplePlayers = [
            { name: 'muscles1', team: 'LHG', battles: '100%', points: 5714.7, avg: 53.9, picked: '50.04%' },
            { name: 'notch123', team: '25%', battles: '99%', points: 5550.5, avg: 48.7, picked: '57.61%' },
            { name: 'TheLoveHitman', team: 'TT6', battles: '100%', points: 5298.5, avg: 49.5, picked: '55.14%' },
            { name: 'JxMAN20', team: '25%', battles: '91%', points: 4868.7, avg: 46.4, picked: '11.85%' },
            { name: 'Vyraall', team: 'TT6', battles: '97%', points: 4781.3, avg: 45.8, picked: '29.86%' },
            { name: 'CommanderHalesBrother', team: '25%', battles: '90%', points: 4567.0, avg: 43.9, picked: '17.93%' },
            { name: 'Major_Kenway', team: '25%', battles: '80%', points: 4513.9, avg: 49.1, picked: '10.58%' },
            { name: '_BlitzWolf', team: 'TT6', battles: '79%', points: 4492.0, avg: 52.8, picked: '7.50%' },
            { name: 'Accretia', team: 'WAR', battles: '100%', points: 4461.1, avg: 44.6, picked: '33.53%' },
            { name: '_bloop', team: 'SB', battles: '96%', points: 4395.0, avg: 48.3, picked: '63.84%' },
            { name: 'SgtRumsey', team: 'LHG', battles: '75%', points: 4339.6, avg: 49.1, picked: '25.67%' },
            { name: 'iWrangleEmus', team: 'TT6', battles: '92%', points: 4268.6, avg: 47.8, picked: '18.42%' },
            { name: 'ShiraiKan_ExcalibuR', team: 'WAR', battles: '91%', points: 4036.9, avg: 44.2, picked: '22.15%' },
            { name: 'Mlopesz', team: 'WAR', battles: '100%', points: 4029.7, avg: 40.3, picked: '15.78%' },
            { name: 'SlyGuy_2', team: 'SB', battles: '99%', points: 3998.4, avg: 45.7, picked: '31.25%' },
            { name: 'Captian_Jack9', team: 'SB', battles: '81%', points: 3967.1, avg: 48.9, picked: '28.94%' },
            { name: 'Starick', team: 'WAR', battles: '83%', points: 3895.5, avg: 46.9, picked: '19.73%' },
            { name: 'RM_xD', team: 'SB', battles: '100%', points: 3659.2, avg: 36.6, picked: '8.55%' }
        ];

        let currentRoster = [];
        let maxRosterSize = 10;
        let rostersUnlocked = true; // Change this to false to lock rosters

        // Populate players table
        function populatePlayersTable() {
            const tbody = document.getElementById('playersTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';

            // Filter players by team if selected
            const teamFilter = document.getElementById('teamFilter');
            const selectedTeam = teamFilter ? teamFilter.value : '';
            const filteredPlayers = selectedTeam ? 
                samplePlayers.filter(p => p.team === selectedTeam) : 
                samplePlayers;

            filteredPlayers.forEach(player => {
                const row = document.createElement('tr');
                
                // Determine action button state
                let actionIcon = 'lock';
                let actionClass = '';
                let actionTitle = 'Rosters are locked';
                
                if (rostersUnlocked) {
                    if (currentRoster.includes(player.name)) {
                        actionIcon = 'remove';
                        actionClass = 'remove';
                        actionTitle = 'Remove from roster';
                    } else if (currentRoster.length < maxRosterSize) {
                        actionIcon = 'add';
                        actionClass = 'add';
                        actionTitle = 'Add to roster';
                    } else {
                        actionIcon = 'lock';
                        actionClass = '';
                        actionTitle = 'Roster is full';
                    }
                }

                row.innerHTML = `
                    <td class="action-column">
                        <button class="player-action-btn ${actionClass}" 
                                data-player="${player.name}" 
                                title="${actionTitle}">
                            <span class="material-icons">${actionIcon}</span>
                        </button>
                    </td>
                    <td class="player-name">${player.name}</td>
                    <td class="player-team">${player.team}</td>
                    <td class="player-battles">${player.battles}</td>
                    <td class="player-points">${parseFloat(player.points).toLocaleString()}</td>
                    <td class="player-avg">${player.avg}</td>
                    <td class="player-picked">${player.picked}</td>
                `;
                
                tbody.appendChild(row);
            });

            // Add event listeners to action buttons
            document.querySelectorAll('.player-action-btn').forEach(btn => {
                btn.addEventListener('click', handlePlayerAction);
            });
        }

        // Handle player roster actions
        function handlePlayerAction(e) {
            const playerName = e.currentTarget.dataset.player;
            const button = e.currentTarget;
            
            if (!rostersUnlocked) {
                showNotification('Rosters are currently locked for this tournament', 'error');
                return;
            }
            
            if (button.classList.contains('add')) {
                addPlayerToRoster(playerName);
            } else if (button.classList.contains('remove')) {
                removePlayerFromRoster(playerName);
            }
        }

        // Add player to roster
        function addPlayerToRoster(playerName) {
            if (currentRoster.length >= maxRosterSize) {
                showNotification(`Roster is full (${maxRosterSize} players maximum)`, 'error');
                return;
            }
            
            if (currentRoster.includes(playerName)) {
                showNotification('Player is already in your roster', 'error');
                return;
            }
            
            currentRoster.push(playerName);
            updateRosterDisplay();
            populatePlayersTable();
            saveRosterToStorage();
            
            showNotification(`${playerName} added to roster`, 'success');
        }

        // Remove player from roster
        function removePlayerFromRoster(playerName) {
            const index = currentRoster.indexOf(playerName);
            if (index > -1) {
                currentRoster.splice(index, 1);
                updateRosterDisplay();
                populatePlayersTable();
                saveRosterToStorage();
                
                showNotification(`${playerName} removed from roster`, 'success');
            }
        }

        // Update roster display
        function updateRosterDisplay() {
            const rosterCount = document.getElementById('rosterCount');
            const rosterList = document.getElementById('rosterList');
            const rosterMessage = document.getElementById('rosterMessage');
            
            if (!rosterCount) return;
            
            rosterCount.textContent = currentRoster.length;
            
            if (rostersUnlocked && currentRoster.length > 0) {
                if (rosterMessage) rosterMessage.style.display = 'none';
                if (rosterList) {
                    rosterList.style.display = 'block';
                    rosterList.innerHTML = currentRoster.map(playerName => `
                        <div class="roster-player">
                            <span class="roster-player-name">${playerName}</span>
                            <button class="roster-player-remove" 
                                    onclick="removePlayerFromRoster('${playerName}')"
                                    title="Remove player">
                                <span class="material-icons" style="font-size: 1rem;">close</span>
                            </button>
                        </div>
                    `).join('');
                }
            } else {
                if (rosterMessage) {
                    rosterMessage.style.display = 'block';
                    if (!rostersUnlocked) {
                        rosterMessage.innerHTML = `
                            Rosters are currently locked for this tournament.
                            <br><br>
                            Tournament administrators may be configuring the site or the tournament may be in progress.
                            <br><br>
                            <small style="color: #00d4ff;">Developer Note: Change "rostersUnlocked" to true in the code to test roster functionality</small>
                        `;
                    } else {
                        rosterMessage.innerHTML = 'Your roster is empty. Add players from the table above to build your fantasy team.';
                    }
                }
                if (rosterList) rosterList.style.display = 'none';
            }
        }

        // Save roster
        async function saveRosterToStorage() {
            try {
                if (api.isAuthenticated()) {
                    await api.saveRoster('na-15v15-summer-series', currentRoster);
                    console.log('Roster saved to backend:', currentRoster);
                } else {
                    localStorage.setItem('roster_na-15v15-summer-series_demo', JSON.stringify(currentRoster));
                    console.log('Roster saved locally:', currentRoster);
                }
            } catch (error) {
                console.error('Error saving roster:', error);
                localStorage.setItem('roster_na-15v15-summer-series_demo', JSON.stringify(currentRoster));
            }
        }

        // Load roster from storage
        function loadRosterFromStorage() {
            const saved = localStorage.getItem('roster_na-15v15-summer-series_demo');
            if (saved) {
                currentRoster = JSON.parse(saved);
                console.log('Roster loaded:', currentRoster);
            }
        }

        // Sort table functionality
        function sortTable(column, direction) {
            samplePlayers.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];
                
                if (column === 'points' || column === 'avg') {
                    aVal = parseFloat(aVal);
                    bVal = parseFloat(bVal);
                } else if (column === 'picked' || column === 'battles') {
                    aVal = parseFloat(aVal.replace('%', ''));
                    bVal = parseFloat(bVal.replace('%', ''));
                }
                
                if (direction === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });
            
            populatePlayersTable();
        }

        // Filter table functionality
        function filterTable() {
            populatePlayersTable();
        }

        // Show notification messages
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.innerHTML = `
                <span class="material-icons">${type === 'success' ? 'check_circle' : 'error'}</span>
                <span>${message}</span>
                <button onclick="this.parentElement.remove()">
                    <span class="material-icons">close</span>
                </button>
            `;
            
            notification.style.cssText = `
                position: fixed;
                top: 2rem;
                right: 2rem;
                background: ${type === 'success' ? 'rgba(34, 197, 94, 0.9)' : 'rgba(239, 68, 68, 0.9)'};
                color: white;
                padding: 1rem;
                border-radius: 8px;
                display: flex;
                align-items: center;
                gap: 0.5rem;
                z-index: 10000;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                backdrop-filter: blur(10px);
                animation: slideInRight 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 4000);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Tournament page loaded successfully!');
            
            loadRosterFromStorage();
            populatePlayersTable();
            updateRosterDisplay();
            
            // Add table sorting
            document.querySelectorAll('.sortable').forEach(th => {
                th.addEventListener('click', () => {
                    const column = th.dataset.sort;
                    const currentDirection = th.classList.contains('asc') ? 'desc' : 'asc';
                    
                    document.querySelectorAll('.sortable').forEach(header => {
                        header.classList.remove('asc', 'desc');
                    });
                    
                    th.classList.add(currentDirection);
                    sortTable(column, currentDirection);
                });
            });
            
            // Add filter functionality
            const teamFilter = document.getElementById('teamFilter');
            if (teamFilter) {
                teamFilter.addEventListener('change', filterTable);
            }
        });

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                e.preventDefault();
                
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                
                const targetTab = tab.dataset.tab;
                const targetContent = document.getElementById(targetTab);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
            });
        });

        // Button actions
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.textContent.includes('Set My Roster')) {
                    const playersTab = document.querySelector('[data-tab="players"]');
                    if (playersTab) {
                        playersTab.click();
                    }
                }
            });
        });

        // Add animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>